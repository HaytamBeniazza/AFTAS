<!-- Modern Navigation Bar -->
<nav class="navbar px-6 py-4">
  <div class="max-w-7xl mx-auto flex items-center justify-between">

    <!-- Logo/Brand -->
    <div class="flex items-center space-x-3">
      <div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-400 to-teal-400 rounded-lg">
        <i class="pi pi-trophy text-white text-xl"></i>
      </div>
      <span class="text-2xl font-bold gradient-text">AFTAS</span>
    </div>

    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center space-x-6">
      <a routerLink="/" routerLinkActive="bg-white bg-opacity-20" class="nav-link">
        <i class="pi pi-home mr-2"></i>Home
      </a>
      <a routerLink="/competition" routerLinkActive="bg-white bg-opacity-20" class="nav-link" *ngIf="(user | async)?.role !== 'NONE'">
        <i class="pi pi-calendar mr-2"></i>Competitions
      </a>
      <a routerLink="/managemember" routerLinkActive="bg-white bg-opacity-20" class="nav-link" *ngIf="(user | async)?.role === 'MANAGER'">
        <i class="pi pi-users mr-2"></i>Manage Members
      </a>
    </div>

    <!-- User Actions -->
    <div class="flex items-center space-x-4">

      <!-- Unauthenticated User Actions -->
      <div class="hidden md:flex items-center space-x-3" *ngIf="!(user | async)?.username">
        <a routerLink="/login" class="btn-outline text-white border-white hover:bg-white hover:text-blue-900">
          <i class="pi pi-sign-in mr-2"></i>Login
        </a>
        <a routerLink="/signup" class="btn-primary">
          <i class="pi pi-user-plus mr-2"></i>Sign Up
        </a>
      </div>

      <!-- Authenticated User Menu -->
      <div class="flex items-center space-x-3" *ngIf="(user | async)?.username">
        <!-- User Profile -->
        <div class="flex items-center space-x-3 glass rounded-lg px-4 py-2">
          <div class="flex items-center justify-center w-8 h-8 bg-gradient-to-br from-blue-400 to-teal-400 rounded-full">
            <i class="pi pi-user text-white text-sm"></i>
          </div>
          <div class="hidden md:block">
            <span class="text-white font-medium">{{(user | async)?.username}}</span>
            <div class="text-xs text-blue-200">{{(user | async)?.role}}</div>
          </div>
        </div>

        <!-- Logout Button -->
        <button (click)="logout()" class="btn-outline border-red-400 text-red-400 hover:bg-red-400 hover:text-white">
          <i class="pi pi-sign-out mr-2"></i>
          <span class="hidden md:inline">Logout</span>
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <button class="md:hidden p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg"
              (click)="mobileMenuOpen = !mobileMenuOpen">
        <i class="pi" [class.pi-bars]="!mobileMenuOpen" [class.pi-times]="mobileMenuOpen"></i>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="md:hidden transition-all duration-300 overflow-hidden"
       [class.max-h-0]="!mobileMenuOpen"
       [class.max-h-96]="mobileMenuOpen"
       [class.opacity-0]="!mobileMenuOpen"
       [class.opacity-100]="mobileMenuOpen">
    <div class="px-4 py-6 space-y-4 border-t border-white border-opacity-20 mt-4">

      <!-- Mobile Navigation Links -->
      <a routerLink="/" class="block nav-link" (click)="mobileMenuOpen = false">
        <i class="pi pi-home mr-3"></i>Home
      </a>
      <a routerLink="/competition" class="block nav-link" *ngIf="(user | async)?.role !== 'NONE'" (click)="mobileMenuOpen = false">
        <i class="pi pi-calendar mr-3"></i>Competitions
      </a>
      <a routerLink="/managemember" class="block nav-link" *ngIf="(user | async)?.role === 'MANAGER'" (click)="mobileMenuOpen = false">
        <i class="pi pi-users mr-3"></i>Manage Members
      </a>

      <!-- Mobile User Actions -->
      <div class="pt-4 border-t border-white border-opacity-20" *ngIf="!(user | async)?.username">
        <a routerLink="/login" class="block w-full text-center btn-outline text-white border-white mb-3" (click)="mobileMenuOpen = false">
          <i class="pi pi-sign-in mr-2"></i>Login
        </a>
        <a routerLink="/signup" class="block w-full text-center btn-primary" (click)="mobileMenuOpen = false">
          <i class="pi pi-user-plus mr-2"></i>Sign Up
        </a>
      </div>

      <div class="pt-4 border-t border-white border-opacity-20" *ngIf="(user | async)?.username">
        <button (click)="logout(); mobileMenuOpen = false" class="block w-full text-center btn-outline border-red-400 text-red-400">
          <i class="pi pi-sign-out mr-2"></i>Logout
        </button>
      </div>
    </div>
  </div>
</nav>
